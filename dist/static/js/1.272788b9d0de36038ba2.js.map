{"version":3,"sources":["webpack:///src/components/verificationCode.vue","webpack:///./src/components/verificationCode.vue?c92b","webpack:///./src/components/verificationCode.vue","webpack:///src/modules/login/index.vue","webpack:///./src/modules/login/index.vue?f5c6","webpack:///./src/modules/login/index.vue","webpack:///./node_modules/babel-runtime/helpers/extends.js","webpack:///./src/assets/img/logo.png","webpack:///./src/storage/localStorage.js"],"names":["sCode","verificationCode","name","props","width","type","Number","default","height","wordNum","fontSize","fontStyle","String","data","time","mounted","this","drawCode","methods","drawWord","canvas","context","num","font","str","x","i","s","setInterval","clearInterval","_i","parseInt","Math","random","length","deg","PI","k","y","rotate","fillStyle","randomColor","textBaseline","fillText","drawLine","moveTo","floor","lineTo","lineWidth","strokeStyle","stroke","drawPoint","r","beginPath","arc","fill","idName","document","getElementById","getContext","fillRect","lineNum","pointNum","$emit","components_verificationCode","render","_vm","_h","$createElement","_self","_c","attrs","id","on","click","$event","staticRenderFns","src_components_verificationCode","__webpack_require__","normalizeComponent","ssrContext","login","isShow","Boolean","components","computed","extends_default","Object","vuex_esm","form","username","password","userType","verification","rules","required","message","trigger","validator","verificationRule","mutation_types","reLogin","_this","param","loginName","$refs","validate","valid","cookie","$callApi","api","then","token","localStorage","resetFields","SET_IS_FROM_LOGIN","initApp","$router","push","rule","value","callback","Error","toUpperCase","onCodeChange","beforeRouteEnter","to","from","next","fullPath","vm","modules_login","staticClass","_v","appear","directives","rawName","expression","src","ref","model","prop","placeholder","nativeOn","keyup","_k","keyCode","key","$$v","$set","label","maxlength","change","color","linesColor","hoverMode","clickMode","particlesNumber","linesWidth","_e","login_Component","login_normalizeComponent","__webpack_exports__","exports","__esModule","obj","_assign","_assign2","target","arguments","source","prototype","hasOwnProperty","call","module","p","setBaseData","setItem","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","getBaseData","JSON","parse","getItem"],"mappings":"gLAQAA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEAC,GACAC,KAAA,GACAC,OACAC,OACAC,KAAAC,OACAC,QAAA,KAEAC,QACAH,KAAAC,OACAC,QAAA,IAEAE,SACAJ,KAAAC,OACAC,QAAA,GAEAG,UACAL,KAAAC,OACAC,QAAA,IAEAI,WACAN,KAAAO,OACAL,QAAA,UAGAM,KAxBA,WAyBA,OACAC,KAAA,IAGAC,QA7BA,WA8BAC,KAAAC,SAAA,WAEAC,SACAC,SADA,SACAC,EAAAC,EAAAC,GAEAD,EAAAE,KAAAP,KAAAN,SAAA,MAAAM,KAAAL,UAWA,IAVA,IAAAa,EAAA,GACAC,KACAC,EAAA,EACAC,EAAAC,YAAA,WACA,IAAAF,EACAG,cAAAF,GAEAD,KAEA,KACAI,EAAA,EAAAA,EAAAR,EAAAQ,IAAA,CACAN,GAAAxB,EAAA+B,SAAAC,KAAAC,SAAAjC,EAAAkC,SAEA,IAAAC,EACAH,KAAAI,GAAA,IAAAJ,KAAAC,SAAA,GAAAD,KAAAC,SAAA,SACAI,EAAA,EACA,GACAZ,EAAAK,MAAAd,KAAAZ,MAAAkB,GAAAU,KAAAC,SAAAjB,KAAAN,SAAA,EACA2B,WAEAZ,EAAAK,GAAAd,KAAAN,SAAAM,KAAAZ,OACAqB,EAAAK,GAAAd,KAAAN,UACAe,EAAAK,IAAAL,EAAAK,EAAA,OAAAd,KAAAN,WACA2B,EAAA,IAGA,IAAAC,EAAAtB,KAAAR,OAAA,EAEAa,EAAAkB,OAAAJ,GACAd,EAAAmB,UAAAxB,KAAAyB,cACApB,EAAAqB,aAAA,SACArB,EAAAsB,SAAAnB,EAAAM,GAAAL,EAAAK,GAAAQ,GACAjB,EAAAkB,QAAAJ,GAEA,OAAAX,GAGAoB,SAzCA,SAyCAxB,EAAAC,EAAAC,GACA,QAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IACAL,EAAAwB,OACAb,KAAAc,MAAAd,KAAAC,SAAAb,EAAAhB,OACA4B,KAAAc,MAAAd,KAAAC,SAAAb,EAAAZ,SAGAa,EAAA0B,OACAf,KAAAc,MAAAd,KAAAC,SAAAb,EAAAhB,OACA4B,KAAAc,MAAAd,KAAAC,SAAAb,EAAAZ,SAGAa,EAAA2B,UACAhB,KAAAc,MAAA,EAAAd,KAAAC,UAAAjB,KAAAR,OAAAQ,KAAAN,SAEAW,EAAA4B,YAAAjC,KAAAyB,cAEApB,EAAA6B,UAKAC,UA/DA,SA+DA/B,EAAAC,EAAAC,GACA,QAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAA,CACAL,EAAAmB,UAAAxB,KAAAyB,cACA,IAAAhB,EAAAO,KAAAC,SAAAb,EAAAhB,MACAkC,EAAAN,KAAAC,SAAAb,EAAAZ,OACA4C,EAAA,EAAApB,KAAAC,SACAZ,EAAAgC,YACAhC,EAAAiC,IACA7B,EACAa,EACAc,EACA,EAAApB,KAAAC,SAAAD,KAAAI,GACA,EAAAJ,KAAAC,SAAAD,KAAAI,IAEAf,EAAAkC,SAIAd,YAjFA,WAqFA,aAHAT,KAAAc,MAAA,IAAAd,KAAAC,UAGA,IAFAD,KAAAc,MAAA,IAAAd,KAAAC,UAEA,IADAD,KAAAc,MAAA,IAAAd,KAAAC,UACA,KAGAhB,SAxFA,SAwFAuC,GACAxC,KAAAF,KAAA,EAEA,IAAAM,EAAAqC,SAAAC,eAAAF,GAEAnC,EAAAD,EAAAuC,WAAA,MAEAtC,EAAAmB,UAAA,OAEAnB,EAAAuC,SAAA,IAAAxC,EAAAhB,MAAAgB,EAAAZ,QAEA,IAAAgB,EAAAR,KAAAG,SAAAC,EAAAC,EAAAL,KAAAP,SAEAoD,EAAA,EAAA7B,KAAAC,SAAA,EACAjB,KAAA4B,SAAAxB,EAAAC,EAAAwC,GAEA,IAAAC,EAAA,GAAA9B,KAAAC,SAAA,GACAjB,KAAAmC,UAAA/B,EAAAC,EAAAyC,GACA9C,KAAA+C,MAAA,SAAAvC,MCxMewC,GADEC,OAFjB,WAA0B,IAAAC,EAAAlD,KAAamD,EAAAD,EAAAE,eAAkD,OAAxBF,EAAAG,MAAAC,IAAAH,GAAwB,UAAoBI,OAAOC,GAAA,SAAApE,MAAA8D,EAAA9D,MAAAI,OAAA0D,EAAA1D,QAAoDiE,IAAKC,MAAA,SAAAC,GAAyBT,EAAAjD,SAAA,eAErL2D,oBCCjB,IAuBeC,EAvBUC,EAAQ,OAcjCC,CACE9E,EACA+D,GATF,EAVA,SAAAgB,GACEF,EAAQ,SAaV,kBAEA,MAUgC,QCqDhCG,GACA/E,KAAA,QACAC,OACA+E,OAAAC,SAEAC,YACAnF,iBAAA4E,GAEA9D,QARA,aAWAsE,SAAYC,OACZC,OAAAC,EAAA,EAAAD,EAAA,iBAEA1E,KAdA,WAeA,OACA4E,MACAC,SAAA,GACAC,SAAA,GACAC,SAAA,UACAC,aAAA,IAEAA,aAAA,GACAC,OACAJ,WACAK,UAAA,EAAAC,QAAA,SAAAC,QAAA,SAEAN,WAAAI,UAAA,EAAAC,QAAA,QAAAC,QAAA,SACAJ,eAAAK,UAAAlF,KAAAmF,iBAAAF,QAAA,YAIA/E,QAAWoE,OACXC,OAAAC,EAAA,EAAAD,EAAA,YACAA,OAAAC,EAAA,EAAAD,EAAAa,EAAA,KAEAC,QAJA,WAIA,IAAAC,EAAAtF,KAEAuF,KACAA,EAAAC,UAAAxF,KAAAyE,KAAAC,SACAa,EAAAZ,SAAA3E,KAAAyE,KAAAE,SACA3E,KAAAyF,MAAAhB,KAAAiB,SAAA,SAAAC,GACA,IAAAA,EAeA,SAdUpB,OAAAqB,EAAA,EAAArB,GACVe,EAAAO,UACAC,IARA,oBASAP,UACAQ,KAAA,SAAAlG,GACY0E,OAAAqB,EAAA,EAAArB,CAAZ1E,EAAAmG,OAAAD,KAAA,WACcxB,OAAA0B,EAAA,EAAA1B,CAAd1E,GACAyF,EAAAG,MAAAhB,KAAAyB,cACAZ,EAAAa,mBAAA,GACAb,EAAAc,QAAAvG,GACAyF,EAAAe,QAAAC,MAAApH,KAAA,gBAQAiG,iBA7BA,SA6BAoB,EAAAC,EAAAC,GACA,KAAAD,EACAC,EAAA,IAAAC,MAAA,WACAF,EAAAG,gBAAA3G,KAAA6E,aAAA8B,cACAF,EAAA,IAAAC,MAAA,WAEAD,KAGAG,aAtCA,SAsCApG,GACAR,KAAA6E,aAAArE,KAGAqG,iBA1EA,SA0EAC,EAAAC,EAAAC,GACA,UAAAD,EAAAE,SAMAD,IALAA,EAAA,SAAAE,GACAA,EAAAb,QAAAC,MAAApH,KAAA6H,EAAA7H,WCzJeiI,GADElE,OAFP,WAAgB,IAAAC,EAAAlD,KAAamD,EAAAD,EAAAE,eAA0BE,EAAAJ,EAAAG,MAAAC,IAAAH,EAAwB,OAAAG,EAAA,OAAiB8D,YAAA,UAAoB9D,EAAA,OAAY8D,YAAA,iBAA2BlE,EAAAmE,GAAA,KAAA/D,EAAA,cAA+BC,OAAO+D,OAAA,GAAApI,KAAA,YAA6BoE,EAAA,OAAYiE,aAAarI,KAAA,OAAAsI,QAAA,SAAAhB,MAAAtD,EAAA,OAAAuE,WAAA,WAAoEL,YAAA,gBAA4B9D,EAAA,OAAY8D,YAAA,cAAA7D,OAAiCmE,IAAM5D,EAAQ,WAA8BZ,EAAAmE,GAAA,KAAA/D,EAAA,OAAwB8D,YAAA,gBAA0B9D,EAAA,OAAY8D,YAAA,gBAA0B9D,EAAA,WAAgBqE,IAAA,OAAApE,OAAkBqE,MAAA1E,EAAAuB,KAAAK,MAAA5B,EAAA4B,SAAoCxB,EAAA,gBAAqB8D,YAAA,iBAAA7D,OAAoCsE,KAAA,cAAmBvE,EAAA,YAAiBC,OAAOuE,YAAA,UAAuBC,UAAWC,MAAA,SAAArE,GAAyB,iBAAAA,IAAAT,EAAA+E,GAAAtE,EAAAuE,QAAA,WAAAvE,EAAAwE,IAAA,SAA+FjF,EAAAmC,QAAA1B,GAAf,OAA2CiE,OAAQpB,MAAAtD,EAAAuB,KAAA,SAAAgC,SAAA,SAAA2B,GAAmDlF,EAAAmF,KAAAnF,EAAAuB,KAAA,WAAA2D,IAAoCX,WAAA,oBAA6B,GAAAvE,EAAAmE,GAAA,KAAA/D,EAAA,gBAAqC8D,YAAA,iBAAA7D,OAAoCsE,KAAA,cAAmBvE,EAAA,YAAiBC,OAAOlE,KAAA,WAAAyI,YAAA,SAAwCC,UAAWC,MAAA,SAAArE,GAAyB,iBAAAA,IAAAT,EAAA+E,GAAAtE,EAAAuE,QAAA,WAAAvE,EAAAwE,IAAA,SAA+FjF,EAAAmC,QAAA1B,GAAf,OAA2CiE,OAAQpB,MAAAtD,EAAAuB,KAAA,SAAAgC,SAAA,SAAA2B,GAAmDlF,EAAAmF,KAAAnF,EAAAuB,KAAA,WAAA2D,IAAoCX,WAAA,oBAA6B,GAAAvE,EAAAmE,GAAA,KAAA/D,EAAA,gBAAqCC,OAAOsE,KAAA,UAAevE,EAAA,kBAAuB8D,YAAA,qBAAAQ,OAAwCpB,MAAAtD,EAAAuB,KAAA,SAAAgC,SAAA,SAAA2B,GAAmDlF,EAAAmF,KAAAnF,EAAAuB,KAAA,WAAA2D,IAAoCX,WAAA,mBAA6BnE,EAAA,YAAiBC,OAAO+E,MAAA,aAAmBpF,EAAAmE,GAAA,0BAAAnE,EAAAmE,GAAA,KAAA/D,EAAA,YAA8DC,OAAO+E,MAAA,aAAmBpF,EAAAmE,GAAA,kCAAAnE,EAAAmE,GAAA,KAAA/D,EAAA,gBAA0EC,OAAOsE,KAAA,kBAAuBvE,EAAA,OAAY8D,YAAA,uBAAiC9D,EAAA,YAAiB8D,YAAA,4BAAA7D,OAA+CuE,YAAA,SAAAS,UAAA,KAAuCR,UAAWC,MAAA,SAAArE,GAAyB,iBAAAA,IAAAT,EAAA+E,GAAAtE,EAAAuE,QAAA,WAAAvE,EAAAwE,IAAA,SAA+FjF,EAAAmC,QAAA1B,GAAf,OAA2CiE,OAAQpB,MAAAtD,EAAAuB,KAAA,aAAAgC,SAAA,SAAA2B,GAAuDlF,EAAAmF,KAAAnF,EAAAuB,KAAA,eAAA2D,IAAwCX,WAAA,uBAAiCvE,EAAAmE,GAAA,KAAA/D,EAAA,qBAAsC8D,YAAA,2BAAA3D,IAA2C+E,OAAAtF,EAAA0D,iBAA2B,KAAA1D,EAAAmE,GAAA,KAAA/D,EAAA,aAAoC8D,YAAA,YAAA7D,OAA+BlE,KAAA,WAAiBoE,IAAKC,MAAAR,EAAAmC,WAAqBnC,EAAAmE,GAAA,oDAAAnE,EAAAmE,GAAA,KAAAnE,EAAA,OAAAI,EAAA,iBAA0G8D,YAAA,mBAAA7D,OAAsCkF,MAAA,OAAAC,WAAA,OAAAC,UAAA,OAAAC,UAAA,OAAAC,gBAAA,GAAAC,WAAA,KAA8G5F,EAAA6F,MAAA,IAEjvFnF,oBCChC,IAcIoF,EAdqBlF,EAAQ,OAcjBmF,CACdhF,EACAkD,GAT6B,EAV/B,SAAoBnD,GAClBF,EAAQ,SAaS,kBAEU,MAUdoF,EAAA,QAAAF,EAAiB,2CCxBhCG,EAAAC,YAAA,EAEA,IAIAC,EAJAC,EAAcxF,EAAQ,QAEtByF,GAEAF,EAFAC,IAEsCD,EAAAD,WAAAC,GAAuC9J,QAAA8J,GAE7EF,EAAA5J,QAAAgK,EAAAhK,SAAA,SAAAiK,GACA,QAAA9I,EAAA,EAAiBA,EAAA+I,UAAAvI,OAAsBR,IAAA,CACvC,IAAAgJ,EAAAD,UAAA/I,GAEA,QAAAyH,KAAAuB,EACAnF,OAAAoF,UAAAC,eAAAC,KAAAH,EAAAvB,KACAqB,EAAArB,GAAAuB,EAAAvB,IAKA,OAAAqB,gDCrBAM,EAAAX,QAAiBrF,EAAAiG,EAAuB,0JCIlCC,EAAc,SAAAnK,GAClBoG,aAAagE,QALG,YAKgBC,IAAerK,KAG3CsK,EAAc,WAClB,OAAOC,KAAKC,MAAMpE,aAAaqE,QATf","file":"static/js/1.272788b9d0de36038ba2.js","sourcesContent":["<template>\n  <canvas id=\"canvas\"\n    :width=\"width\"\n    :height=\"height\"\n    @click=\"drawCode('canvas')\"></canvas>\n</template>\n\n<script>\nconst sCode = [\n  'a',\n  'b',\n  'c',\n  'd',\n  'e',\n  'f',\n  'g',\n  'h',\n  'i',\n  'j',\n  'k',\n  'm',\n  'n',\n  'p',\n  'q',\n  'r',\n  's',\n  't',\n  'u',\n  'v',\n  'w',\n  'x',\n  'y',\n  'z',\n  'A',\n  'B',\n  'C',\n  'E',\n  'F',\n  'G',\n  'H',\n  'J',\n  'K',\n  'L',\n  'M',\n  'N',\n  'P',\n  'Q',\n  'R',\n  'S',\n  'T',\n  'W',\n  'X',\n  'Y',\n  'Z',\n  '1',\n  '2',\n  '3',\n  '4',\n  '5',\n  '6',\n  '7',\n  '8',\n  '9',\n  '0'\n]\nexport default {\n  name: '',\n  props: {\n    width: {\n      type: Number,\n      default: 120\n    },\n    height: {\n      type: Number,\n      default: 60\n    },\n    wordNum: {\n      type: Number,\n      default: 4\n    },\n    fontSize: {\n      type: Number,\n      default: 40\n    },\n    fontStyle: {\n      type: String,\n      default: 'Arial'\n    }\n  },\n  data() {\n    return {\n      time: 0\n    }\n  },\n  mounted() {\n    this.drawCode('canvas')\n  },\n  methods: {\n    drawWord(canvas, context, num) {\n      // 设置字体\n      context.font = this.fontSize + 'px ' + this.fontStyle\n      let str = ''\n      let x = []\n      let i = 0\n      let s = setInterval(() => {\n        if (i === 4) {\n          clearInterval(s)\n        } else {\n          i++\n        }\n      }, 1000)\n      for (let i = 0; i < num; i++) {\n        str += sCode[parseInt(Math.random() * sCode.length)]\n        // 产生一个随机弧度\n        let deg =\n          (Math.PI / 180) * Math.random() * 5 * (Math.random() < 0.5 ? 1 : -1)\n        let k = 0\n        do {\n          x[i] = i * (this.width / num) + (Math.random() * this.fontSize) / 2\n          k++\n        } while (\n          (x[i] + this.fontSize > this.width ||\n            x[i] < this.fontSize ||\n            x[i] < (x[i - 1] || 0) + this.fontSize) &&\n          k < 10\n        )\n\n        let y = this.height / 2\n\n        context.rotate(deg)\n        context.fillStyle = this.randomColor()\n        context.textBaseline = 'center'\n        context.fillText(str[i], x[i], y)\n        context.rotate(-deg)\n      }\n      return str\n    },\n\n    drawLine(canvas, context, num) {\n      for (let i = 0; i < num; i++) {\n        context.moveTo(\n          Math.floor(Math.random() * canvas.width),\n          Math.floor(Math.random() * canvas.height)\n        )\n        // 随机线的终点x坐标是画布宽度，y坐标是画布高度的随机数\n        context.lineTo(\n          Math.floor(Math.random() * canvas.width),\n          Math.floor(Math.random() * canvas.height)\n        )\n        // 随机线宽\n        context.lineWidth =\n          Math.floor(Math.random() * 4) + this.height / this.fontSize\n        // 随机线描边属性\n        context.strokeStyle = this.randomColor()\n        // 描边，即起点描到终点\n        context.stroke()\n      }\n    },\n\n    // 随机点(所谓画点其实就是画1px像素的线，方法不再赘述)\n    drawPoint(canvas, context, num) {\n      for (let i = 0; i < num; i++) {\n        context.fillStyle = this.randomColor()\n        let x = Math.random() * canvas.width\n        let y = Math.random() * canvas.height\n        let r = Math.random() * 6\n        context.beginPath()\n        context.arc(\n          x,\n          y,\n          r,\n          Math.random() * 2 * Math.PI,\n          Math.random() * 2 * Math.PI\n        )\n        context.fill()\n      }\n    },\n    // 得到随机的颜色值\n    randomColor() {\n      var r = Math.floor(Math.random() * 256)\n      var g = Math.floor(Math.random() * 256)\n      var b = Math.floor(Math.random() * 256)\n      return 'rgb(' + r + ',' + g + ',' + b + ')'\n    },\n\n    drawCode(idName) {\n      this.time = 0\n      // 获得画布元素\n      let canvas = document.getElementById(idName)\n      // 获得2维绘图的上下文\n      const context = canvas.getContext('2d')\n      // 画布填充色\n      context.fillStyle = '#fff'\n      // 清空画布\n      context.fillRect(0, 0, canvas.width, canvas.height)\n\n      let str = this.drawWord(canvas, context, this.wordNum)\n\n      let lineNum = Math.random() * 4 + 2\n      this.drawLine(canvas, context, lineNum)\n\n      let pointNum = Math.random() * 10 + 20\n      this.drawPoint(canvas, context, pointNum)\n      this.$emit('change', str)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#canvas {\n  cursor: pointer;\n  border-radius: 6px;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/verificationCode.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{attrs:{\"id\":\"canvas\",\"width\":_vm.width,\"height\":_vm.height},on:{\"click\":function($event){_vm.drawCode('canvas')}}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a2d6aee4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/verificationCode.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a2d6aee4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./verificationCode.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./verificationCode.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./verificationCode.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a2d6aee4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./verificationCode.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a2d6aee4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/verificationCode.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"login\">\n    <div class=\"login__after\"></div>\n    <transition appear\n      name=\"rotate\">\n      <div class=\"login__main\"\n        v-show=\"isShow\">\n        <img class=\"login__logo\"\n          src=\"../../assets/img/logo.png\">\n        <div class=\"login__body\">\n          <div class=\"login__form\">\n            <el-form ref=\"form\"\n              :model=\"form\"\n              :rules=\"rules\">\n              <el-form-item prop=\"username\"\n                class=\"login-username\">\n                <el-input v-model=\"form.username\"\n                  placeholder=\"请输入用户名\"\n                  @keyup.enter.native=\"reLogin\">\n                </el-input>\n              </el-form-item>\n              <el-form-item prop=\"password\"\n                class=\"login-password\">\n                <el-input type=\"password\"\n                  v-model=\"form.password\"\n                  placeholder=\"请输入密码\"\n                  @keyup.enter.native=\"reLogin\">\n                </el-input>\n              </el-form-item>\n              <el-form-item prop=\"type\">\n                <el-radio-group v-model=\"form.userType\"\n                  class=\"login__radio-group\">\n                  <el-radio label=\"student\">学生\n                  </el-radio>\n                  <el-radio label=\"teacher\">教师\n                  </el-radio>\n                </el-radio-group>\n              </el-form-item>\n\n              <el-form-item prop=\"verification\">\n                <div class=\"login-verification\">\n                  <el-input class=\"login-verification__input\"\n                    v-model=\"form.verification\"\n                    placeholder=\"请输入验证码\"\n                    maxlength=\"4\"\n                    @keyup.enter.native=\"reLogin\"></el-input>\n                  <verification-code class=\"login-verification__code\"\n                    @change=\"onCodeChange\"></verification-code>\n                </div>\n              </el-form-item>\n\n              <el-button type=\"primary\"\n                @click=\"reLogin\"\n                class=\"login-btn\">\n                登录\n              </el-button>\n            </el-form>\n          </div>\n        </div>\n      </div>\n    </transition>\n    <vue-particles v-if=\"isShow\"\n      class=\"login__particles\"\n      color=\"#aaa\"\n      linesColor=\"#fff\"\n      hoverMode=\"grab\"\n      clickMode=\"push\"\n      :particlesNumber=\"30\"\n      :linesWidth=\"2\">\n    </vue-particles>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapMutations, mapActions } from 'vuex'\nimport { setSSID, clearSSID } from '../../storage/cookie.js'\nimport { setBaseData } from '../../storage/localStorage.js'\nimport { SET_IS_FROM_LOGIN } from '../../store/mutation-types'\nimport verificationCode from '../../components/verificationCode'\nexport default {\n  name: 'login',\n  props: {\n    isShow: Boolean\n  },\n  components: {\n    verificationCode\n  },\n  mounted() {\n    // console.log(this.$router)\n  },\n  computed: {\n    ...mapState(['companyName'])\n  },\n  data() {\n    return {\n      form: {\n        username: '',\n        password: '',\n        userType: 'student',\n        verification: ''\n      },\n      verification: '',\n      rules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' }\n        ],\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }],\n        verification: [{ validator: this.verificationRule, trigger: 'blur' }]\n      }\n    }\n  },\n  methods: {\n    ...mapActions(['initApp']),\n    ...mapMutations([SET_IS_FROM_LOGIN]),\n    // 页面登入,当表单校验成功时调用后台登入接口,并在接口成功之后将返回的 token 存入 cookie中\n    reLogin() {\n      let api = 'server_base_login'\n      let param = {}\n      param.loginName = this.form.username\n      param.password = this.form.password\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          clearSSID()\n          this.$callApi({\n            api,\n            param\n          }).then(data => {\n            setSSID(data.token).then(() => {\n              setBaseData(data)\n              this.$refs.form.resetFields()\n              this.SET_IS_FROM_LOGIN(true)\n              this.initApp(data)\n              this.$router.push({ name: 'main' })\n            })\n          })\n        } else {\n          return false\n        }\n      })\n    },\n    verificationRule(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请输入验证码'))\n      } else if (value.toUpperCase() !== this.verification.toUpperCase()) {\n        callback(new Error('验证码错误!'))\n      } else {\n        callback()\n      }\n    },\n    onCodeChange(str) {\n      this.verification = str\n    }\n  },\n  beforeRouteEnter(to, from, next) {\n    if (from.fullPath === '/main') {\n      next(vm => {\n        vm.$router.push({ name: from.name })\n      })\n      return\n    }\n    next()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  width: 100%;\n  height: 100%;\n  background: #f7fcff;\n  position: relative;\n  overflow: hidden;\n  background: linear-gradient(\n    rgba(19, 36, 82, 0.8) 10%,\n    rgba(115, 83, 63, 0.8) 90%\n  );\n  &__after {\n    position: absolute;\n    filter: blur(6.5px);\n    // content: '';\n    background: url('../../../static/login/login-bg-01.jpg');\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n    transform: scale(1.1);\n    opacity: 0.9;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    motion: auto;\n    z-index: 0;\n  }\n  &__particles {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    z-index: 1;\n  }\n  &__main {\n    position: absolute;\n    z-index: 2;\n    box-sizing: border-box;\n    width: 370px;\n    // height: 377px;\n    border-radius: 6px;\n    // background-color: rgba(123, 123, 123, 0.6);\n    top: 23%;\n    right: 18%;\n    padding: 10px;\n    background: linear-gradient(\n      to bottom right,\n      rgba(255, 255, 255, 0.6),\n      rgba(123, 123, 123, 0.6)\n    );\n  }\n  &__logo {\n    width: 100%;\n  }\n  &__body {\n    padding: 5px 10px;\n  }\n  &__radio-group {\n    display: flex;\n    justify-content: space-around;\n    .radio-group__label {\n      color: #ff0;\n    }\n  }\n  &-verification {\n    display: flex;\n    align-items: flex-end;\n    &__input {\n      margin-right: 20px;\n    }\n  }\n  &-btn {\n    width: 100%;\n  }\n}\n\n.custom-appear-class {\n  font-size: 40px;\n  color: red;\n  background: green;\n}\n\n.custom-appear-active-class {\n  background: green;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/modules/login/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login__after\"}),_vm._v(\" \"),_c('transition',{attrs:{\"appear\":\"\",\"name\":\"rotate\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"login__main\"},[_c('img',{staticClass:\"login__logo\",attrs:{\"src\":require(\"../../assets/img/logo.png\")}}),_vm._v(\" \"),_c('div',{staticClass:\"login__body\"},[_c('div',{staticClass:\"login__form\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{staticClass:\"login-username\",attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.reLogin($event)}},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"login-password\",attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.reLogin($event)}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"type\"}},[_c('el-radio-group',{staticClass:\"login__radio-group\",model:{value:(_vm.form.userType),callback:function ($$v) {_vm.$set(_vm.form, \"userType\", $$v)},expression:\"form.userType\"}},[_c('el-radio',{attrs:{\"label\":\"student\"}},[_vm._v(\"学生\\n                \")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"teacher\"}},[_vm._v(\"教师\\n                \")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"verification\"}},[_c('div',{staticClass:\"login-verification\"},[_c('el-input',{staticClass:\"login-verification__input\",attrs:{\"placeholder\":\"请输入验证码\",\"maxlength\":\"4\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.reLogin($event)}},model:{value:(_vm.form.verification),callback:function ($$v) {_vm.$set(_vm.form, \"verification\", $$v)},expression:\"form.verification\"}}),_vm._v(\" \"),_c('verification-code',{staticClass:\"login-verification__code\",on:{\"change\":_vm.onCodeChange}})],1)]),_vm._v(\" \"),_c('el-button',{staticClass:\"login-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.reLogin}},[_vm._v(\"\\n              登录\\n            \")])],1)],1)])])]),_vm._v(\" \"),(_vm.isShow)?_c('vue-particles',{staticClass:\"login__particles\",attrs:{\"color\":\"#aaa\",\"linesColor\":\"#fff\",\"hoverMode\":\"grab\",\"clickMode\":\"push\",\"particlesNumber\":30,\"linesWidth\":2}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f90031c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/modules/login/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f90031c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f90031c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0f90031c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/login/index.vue\n// module id = null\n// module chunks = ","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/extends.js\n// module id = Dd8w\n// module chunks = 0 1","module.exports = __webpack_public_path__ + \"static/img/logo.7340286.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/logo.png\n// module id = dLd/\n// module chunks = 1","const BASE_DATA = 'BASE_DATA'\nconst MENU_BASE_DATA = 'MENU_BASE_DATA'\nconst TAB_DATA = 'TAB_DATA'\n\nconst setBaseData = data => {\n  localStorage.setItem(BASE_DATA, JSON.stringify(data))\n}\n\nconst getBaseData = () => {\n  return JSON.parse(localStorage.getItem(BASE_DATA))\n}\n\nconst setMenuBaseData = data => {\n  localStorage.setItem(MENU_BASE_DATA, JSON.stringify(data))\n}\n\nconst removeMenuBaseData = () => {\n  localStorage.removeItem(MENU_BASE_DATA)\n}\n\nconst getMenuBaseData = () => {\n  let menuStr = localStorage.getItem(MENU_BASE_DATA)\n  if (menuStr) {\n    return JSON.parse(menuStr)\n  } else {\n    return []\n  }\n}\n\nconst setTabData = data => {\n  sessionStorage.setItem(TAB_DATA, JSON.stringify(data))\n}\n\nconst getTabData = () => JSON.parse(sessionStorage.getItem(TAB_DATA))\n\nconst removeTabData = () => {\n  sessionStorage.removeItem(TAB_DATA)\n}\n\nexport {\n  setBaseData,\n  getBaseData,\n  setMenuBaseData,\n  getMenuBaseData,\n  removeMenuBaseData,\n  setTabData,\n  getTabData,\n  removeTabData\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/storage/localStorage.js"],"sourceRoot":""}
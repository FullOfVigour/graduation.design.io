(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68737c25"],{"0b94":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login"},[r("div",{staticClass:"login__after"}),r("transition",{attrs:{appear:"",name:"rotate"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"login__main"},[r("img",{staticClass:"login__logo",attrs:{src:n("4ffd")}}),r("div",{staticClass:"login__body"},[r("div",{staticClass:"login__form"},[r("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[r("el-form-item",{staticClass:"login-username",attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入用户名"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reLogin(e)}},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),r("el-form-item",{staticClass:"login-password",attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reLogin(e)}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),r("el-form-item",{attrs:{prop:"type"}},[r("el-radio-group",{staticClass:"login__radio-group",model:{value:t.form.userType,callback:function(e){t.$set(t.form,"userType",e)},expression:"form.userType"}},[r("el-radio",{attrs:{label:"student"}},[t._v("学生\n                ")]),r("el-radio",{attrs:{label:"teacher"}},[t._v("教师\n                ")])],1)],1),r("el-form-item",{attrs:{prop:"verification"}},[r("div",{staticClass:"login-verification"},[r("el-input",{staticClass:"login-verification__input",attrs:{placeholder:"请输入验证码",maxlength:"4"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reLogin(e)}},model:{value:t.form.verification,callback:function(e){t.$set(t.form,"verification",e)},expression:"form.verification"}}),r("verification-code",{staticClass:"login-verification__code",on:{change:t.onCodeChange}})],1)]),r("el-button",{staticClass:"login-btn",attrs:{type:"primary"},on:{click:t.reLogin}},[t._v("\n              登录\n            ")])],1)],1)])])]),t.isShow?r("vue-particles",{staticClass:"login__particles",attrs:{color:"#aaa",linesColor:"#fff",hoverMode:"grab",clickMode:"push",particlesNumber:30,linesWidth:2}}):t._e()],1)},o=[],i=(n("7f7f"),n("cebc")),a=n("2f62"),s=n("7f28"),c=n("d623"),f=n("9fb0"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{attrs:{id:"canvas",width:t.width,height:t.height},on:{click:function(e){return t.drawCode("canvas")}}})},u=[],d=(n("6c7b"),n("e814")),h=n.n(d),m=(n("c5f6"),["a","b","c","d","e","f","g","h","i","j","k","m","n","p","q","r","s","t","u","v","w","x","y","z","A","B","C","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0"]),p={name:"",props:{width:{type:Number,default:120},height:{type:Number,default:60},wordNum:{type:Number,default:4},fontSize:{type:Number,default:40},fontStyle:{type:String,default:"Arial"}},data:function(){return{time:0}},mounted:function(){this.drawCode("canvas")},methods:{drawWord:function(t,e,n){e.font=this.fontSize+"px "+this.fontStyle;for(var r="",o=[],i=0,a=setInterval(function(){4===i?clearInterval(a):i++},1e3),s=0;s<n;s++){r+=m[h()(Math.random()*m.length)];var c=Math.PI/180*Math.random()*5*(Math.random()<.5?1:-1),f=0;do{o[s]=s*(this.width/n)+Math.random()*this.fontSize/2,f++}while((o[s]+this.fontSize>this.width||o[s]<this.fontSize||o[s]<(o[s-1]||0)+this.fontSize)&&f<10);var l=this.height/2;e.rotate(c),e.fillStyle=this.randomColor(),e.textBaseline="center",e.fillText(r[s],o[s],l),e.rotate(-c)}return r},drawLine:function(t,e,n){for(var r=0;r<n;r++)e.moveTo(Math.floor(Math.random()*t.width),Math.floor(Math.random()*t.height)),e.lineTo(Math.floor(Math.random()*t.width),Math.floor(Math.random()*t.height)),e.lineWidth=Math.floor(4*Math.random())+this.height/this.fontSize,e.strokeStyle=this.randomColor(),e.stroke()},drawPoint:function(t,e,n){for(var r=0;r<n;r++){e.fillStyle=this.randomColor();var o=Math.random()*t.width,i=Math.random()*t.height,a=6*Math.random();e.beginPath(),e.arc(o,i,a,2*Math.random()*Math.PI,2*Math.random()*Math.PI),e.fill()}},randomColor:function(){var t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),n=Math.floor(256*Math.random());return"rgb("+t+","+e+","+n+")"},drawCode:function(t){this.time=0;var e=document.getElementById(t),n=e.getContext("2d");n.fillStyle="#fff",n.fillRect(0,0,e.width,e.height);var r=this.drawWord(e,n,this.wordNum),o=4*Math.random()+2;this.drawLine(e,n,o);var i=10*Math.random()+20;this.drawPoint(e,n,i),this.$emit("change",r)}}},v=p,b=(n("7c5f"),n("2877")),g=Object(b["a"])(v,l,u,!1,null,"a2d6aee4",null),w=g.exports,y={name:"login",props:{isShow:Boolean},components:{verificationCode:w},mounted:function(){},computed:Object(i["a"])({},Object(a["d"])(["companyName"])),data:function(){return{form:{username:"",password:"",userType:"student",verification:""},verification:"",rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],verification:[{validator:this.verificationRule,trigger:"blur"}]}}},methods:Object(i["a"])({},Object(a["b"])(["initApp"]),Object(a["c"])([f["b"]]),{reLogin:function(){var t=this,e="server_base_login",n={};n.loginName=this.form.username,n.password=this.form.password,this.$refs.form.validate(function(r){if(!r)return!1;Object(s["a"])(),t.$callApi({api:e,param:n}).then(function(e){Object(s["c"])(e.token).then(function(){Object(c["b"])(e),t.$refs.form.resetFields(),t.SET_IS_FROM_LOGIN(!0),t.initApp(e),t.$router.push({name:"main"})})})})},verificationRule:function(t,e,n){""===e?n(new Error("请输入验证码")):e.toUpperCase()!==this.verification.toUpperCase()?n(new Error("验证码错误!")):n()},onCodeChange:function(t){this.verification=t}}),beforeRouteEnter:function(t,e,n){"/main"!==e.fullPath?n():n(function(t){t.$router.push({name:e.name})})}},_=y,C=(n("8e50"),Object(b["a"])(_,r,o,!1,null,"d966ed28",null));e["default"]=C.exports},"268f":function(t,e,n){t.exports=n("fde4")},"32a6":function(t,e,n){var r=n("241e"),o=n("c3a1");n("ce7e")("keys",function(){return function(t){return o(r(t))}})},"36bd":function(t,e,n){"use strict";var r=n("4bf8"),o=n("77f1"),i=n("9def");t.exports=function(t){var e=r(this),n=i(e.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,f=void 0===c?n:o(c,n);while(f>s)e[s++]=t;return e}},"4ffd":function(t,e,n){t.exports=n.p+"img/logo.73402862.png"},"5d6b":function(t,e,n){var r=n("e53d").parseInt,o=n("a1ce").trim,i=n("e692"),a=/^[-+]?0[xX]/;t.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(t,e){var n=o(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},"6c7b":function(t,e,n){var r=n("5ca1");r(r.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},7445:function(t,e,n){var r=n("63b6"),o=n("5d6b");r(r.G+r.F*(parseInt!=o),{parseInt:o})},"7c5f":function(t,e,n){"use strict";var r=n("e6c0"),o=n.n(r);o.a},"7f7f":function(t,e,n){var r=n("86cc").f,o=Function.prototype,i=/^\s*function ([^ (]*)/,a="name";a in o||n("9e1e")&&r(o,a,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"8aae":function(t,e,n){n("32a6"),t.exports=n("584a").Object.keys},"8e50":function(t,e,n){"use strict";var r=n("f365"),o=n.n(r);o.a},a4bb:function(t,e,n){t.exports=n("8aae")},b9e9:function(t,e,n){n("7445"),t.exports=n("584a").parseInt},bf90:function(t,e,n){var r=n("36c3"),o=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return o(r(t),e)}})},ce7e:function(t,e,n){var r=n("63b6"),o=n("584a"),i=n("294c");t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},cebc:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("268f"),o=n.n(r),i=n("e265"),a=n.n(i),s=n("a4bb"),c=n.n(s),f=n("bd86");function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=c()(n);"function"===typeof a.a&&(r=r.concat(a()(n).filter(function(t){return o()(n,t).enumerable}))),r.forEach(function(e){Object(f["a"])(t,e,n[e])})}return t}},d623:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var r=n("f499"),o=n.n(r),i="BASE_DATA",a=function(t){localStorage.setItem(i,o()(t))},s=function(){return JSON.parse(localStorage.getItem(i))}},e265:function(t,e,n){t.exports=n("ed33")},e6c0:function(t,e,n){},e814:function(t,e,n){t.exports=n("b9e9")},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},f365:function(t,e,n){},fde4:function(t,e,n){n("bf90");var r=n("584a").Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=chunk-68737c25.61d6a271.js.map